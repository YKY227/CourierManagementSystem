(()=>{var e={};e.id=26,e.ids=[26],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(3209),s(8525),s(2425),s(5866),s(2029);var r=s(3191),i=s(8716),n=s(7922),l=s.n(n),a=s(5231),o={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>a[e]);s.d(t,o);let d=["",{children:["(public-pages)",{children:["booking",{children:["steps",{children:["items",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3209)),"/workspaces/CourierManagementSystem/src/app/(public-pages)/booking/steps/items/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8525)),"/workspaces/CourierManagementSystem/src/app/(public-pages)/booking/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2425)),"/workspaces/CourierManagementSystem/src/app/(public-pages)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/workspaces/CourierManagementSystem/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/CourierManagementSystem/src/app/(public-pages)/booking/steps/items/page.tsx"],u="/(public-pages)/booking/steps/items/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(public-pages)/booking/steps/items/page",pathname:"/booking/steps/items",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4941:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},1953:(e,t,s)=>{Promise.resolve().then(s.bind(s,3198))},4579:(e,t,s)=>{Promise.resolve().then(s.bind(s,1609))},2570:()=>{},5303:()=>{},3198:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(326),i=s(5047),n=s(9086),l=s(5795),a=s(8664);function o({children:e}){let t=(0,i.usePathname)();return r.jsx(a.IU,{children:r.jsx(n.M,{mode:"wait",children:r.jsx(l.E.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.22,ease:"easeInOut"},className:"min-h-screen",children:e},t)})})}},1609:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(326),i=s(7577),n=s(5047),l=s(4723),a=s(4064),o=s(325),d=s(4751),c=s(8664),u=s(9969);let m=u.Ryn({description:u.Z_8().min(3,"Item description is required"),category:u.KmV(["document","parcel","fragile","electronics","food","liquid","oversized","other"]),quantity:u.Rxh().min(1,"Quantity must be at least 1").max(999,"Quantity too large"),weightKg:u.Rxh().min(0,"Weight cannot be negative").max(200,"Weight too large"),lengthCm:u.Rxh().min(0,"Invalid length").max(200,"Length too large"),widthCm:u.Rxh().min(0,"Invalid width").max(200,"Width too large"),heightCm:u.Rxh().min(0,"Invalid height").max(200,"Height too large"),remarks:u.Z_8().optional()}),x=1,p=()=>`I-${x++}`,g=[{id:"document",label:"Document"},{id:"parcel",label:"Parcel"},{id:"fragile",label:"Fragile"},{id:"electronics",label:"Electronics"},{id:"food",label:"Food / Perishable"},{id:"liquid",label:"Liquid"},{id:"oversized",label:"Oversized"},{id:"other",label:"Other"}];function h({editing:e,existingItem:t,onClose:s,onSave:i}){let{register:n,handleSubmit:o,watch:c,formState:{errors:u}}=(0,l.cI)({resolver:(0,a.F)(m),defaultValues:t?{description:t.description,category:t.category,quantity:t.quantity,weightKg:t.weightKg,lengthCm:t.lengthCm,widthCm:t.widthCm,heightCm:t.heightCm,remarks:t.remarks??""}:{description:"",category:"parcel",quantity:1,weightKg:0,lengthCm:0,widthCm:0,heightCm:0,remarks:""}}),x=c("lengthCm")||0,h=c("widthCm")||0,b=c("heightCm")||0,y=x&&h&&b?Math.round(x*h*b/5e3*100)/100:0;return r.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40",children:(0,r.jsxs)("div",{className:"w-full max-w-md rounded-xl bg-white p-4 shadow-lg",children:[r.jsx("h2",{className:"mb-1 text-sm font-semibold text-slate-900",children:e.itemId?"Edit Item":"Add Item"}),(0,r.jsxs)("p",{className:"mb-3 text-[11px] text-slate-500",children:["For delivery point"," ",r.jsx("span",{className:"font-mono text-slate-700",children:e.deliveryId})]}),(0,r.jsxs)("form",{onSubmit:o(s=>{i({id:t?.id??p(),deliveryId:e.deliveryId,description:s.description,category:s.category,quantity:s.quantity,weightKg:s.weightKg,lengthCm:s.lengthCm,widthCm:s.widthCm,heightCm:s.heightCm,volumetricWeightKg:y,remarks:s.remarks??""})}),className:"space-y-3",children:[r.jsx(d.W,{label:"Item Description",required:!0,error:u.description?.message,children:r.jsx("input",{type:"text",...n("description"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",placeholder:"e.g. Laptop box, A4 documents, sample products"})}),(0,r.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[r.jsx(d.W,{label:"Category",error:u.category?.message,children:r.jsx("select",{...n("category"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",children:g.map(e=>r.jsx("option",{value:e.id,children:e.label},e.id))})}),r.jsx(d.W,{label:"Quantity",error:u.quantity?.message,children:r.jsx("input",{type:"number",min:1,...n("quantity",{valueAsNumber:!0}),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500"})})]}),(0,r.jsxs)("div",{className:"grid gap-2 md:grid-cols-2",children:[r.jsx(d.W,{label:"Actual Weight (kg)",error:u.weightKg?.message,children:r.jsx("input",{type:"number",min:0,step:.1,...n("weightKg",{valueAsNumber:!0}),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500"})}),(0,r.jsxs)(d.W,{label:"Dimensions (cm)",error:u.lengthCm?.message||u.widthCm?.message||u.heightCm?.message,children:[(0,r.jsxs)("div",{className:"flex gap-1",children:[r.jsx("input",{type:"number",min:0,placeholder:"L",...n("lengthCm",{valueAsNumber:!0}),className:"w-1/3 rounded-lg border border-slate-200 px-2 py-2 text-xs focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500"}),r.jsx("input",{type:"number",min:0,placeholder:"W",...n("widthCm",{valueAsNumber:!0}),className:"w-1/3 rounded-lg border border-slate-200 px-2 py-2 text-xs focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500"}),r.jsx("input",{type:"number",min:0,placeholder:"H",...n("heightCm",{valueAsNumber:!0}),className:"w-1/3 rounded-lg border border-slate-200 px-2 py-2 text-xs focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500"})]}),(0,r.jsxs)("p",{className:"text-[10px] text-slate-500",children:["Volumetric weight (L \xd7 W \xd7 H \xf7 5000):"," ",(0,r.jsxs)("span",{className:"font-semibold",children:[y," kg"]})]})]})]}),r.jsx(d.W,{label:"Special Handling / Remarks",description:"Optional",children:r.jsx("textarea",{rows:2,...n("remarks"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",placeholder:"e.g. Fragile – handle with care, do not stack, keep upright…"})}),(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[r.jsx("button",{type:"button",onClick:s,className:"text-xs text-slate-600 hover:text-slate-800",children:"Cancel"}),r.jsx("button",{type:"submit",className:"inline-flex items-center rounded-lg bg-sky-600 px-4 py-1.5 text-xs font-medium text-white hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1",children:"Save Item"})]})]})]})})}function b(){let e=(0,n.useRouter)(),{serviceType:t,routeType:s,pickup:l,deliveries:a,items:d,setItems:u}=(0,c.v4)(),[m,x]=(0,i.useState)(()=>d),[p,g]=(0,i.useState)(null),b=(0,i.useMemo)(()=>{let e={};for(let t of a)e[t.id]=[];for(let t of m)e[t.deliveryId]||(e[t.deliveryId]=[]),e[t.deliveryId].push(t);return e},[a,m]),y=e=>{x(t=>t.filter(t=>t.id!==e))};return(0,r.jsxs)(o.N,{title:"Items per Delivery",subtitle:"Tell us what you are sending to each delivery point.",currentStep:5,totalSteps:8,backHref:"/booking/steps/deliveries",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"space-y-3",children:a.map((e,t)=>{let s=b[e.id]??[];return(0,r.jsxs)("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-sm font-semibold text-slate-800",children:["Delivery Point #",t+1]}),(0,r.jsxs)("p",{className:"text-xs text-slate-600",children:[e.addressLine1,e.addressLine2?`, ${e.addressLine2}`:""," (",e.postalCode,")"]}),(0,r.jsxs)("p",{className:"text-[11px] text-slate-500",children:["Recipient: ",e.contactName," \xb7 ",e.contactPhone]})]}),r.jsx("button",{type:"button",onClick:()=>g({deliveryId:e.id}),className:"inline-flex items-center rounded-lg border border-slate-300 px-3 py-1.5 text-xs font-medium text-slate-700 hover:border-sky-400 hover:text-sky-700",children:"+ Add Item"})]}),0===s.length?r.jsx("p",{className:"text-xs text-slate-500",children:"No items added for this delivery yet."}):r.jsx("div",{className:"space-y-2",children:s.map(e=>{let t=e.volumetricWeightKg&&e.volumetricWeightKg>e.weightKg?e.volumetricWeightKg:e.weightKg;return(0,r.jsxs)("div",{className:"flex items-start justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[(0,r.jsxs)("div",{className:"text-xs",children:[r.jsx("p",{className:"font-medium text-slate-800",children:e.description||"(No description)"}),(0,r.jsxs)("p",{className:"text-[11px] text-slate-600",children:["Category: ",e.category," \xb7 Qty: ",e.quantity]}),(0,r.jsxs)("p",{className:"text-[11px] text-slate-600",children:["Actual: ",e.weightKg||0," kg \xb7 Vol:"," ",e.volumetricWeightKg||0," kg \xb7 Billable:"," ",t||0," kg"]}),e.remarks&&(0,r.jsxs)("p",{className:"text-[11px] text-slate-500",children:["Remarks: ",e.remarks]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[r.jsx("button",{type:"button",onClick:()=>g({deliveryId:e.deliveryId,itemId:e.id}),className:"text-[11px] text-sky-600 hover:text-sky-700",children:"Edit"}),r.jsx("button",{type:"button",onClick:()=>y(e.id),className:"text-[11px] text-red-500 hover:text-red-600",children:"Remove"})]})]},e.id)})})]},e.id)})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("button",{type:"button",onClick:()=>{e.push("/booking/steps/deliveries")},className:"text-xs text-slate-600 hover:text-slate-800",children:"← Back to Delivery Points"}),r.jsx("button",{type:"button",onClick:()=>{if(0===m.length){alert("Please add at least one item before continuing.");return}u(m),e.push("/booking/steps/schedule")},className:"inline-flex items-center rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1",children:"Continue to Schedule →"})]})]}),p&&r.jsx(h,{editing:p,existingItem:p.itemId?m.find(e=>e.id===p.itemId)??null:null,onClose:()=>g(null),onSave:e=>{x(t=>t.some(t=>t.id===e.id)?t.map(t=>t.id===e.id?e:t):[...t,e])}})]})}},4751:(e,t,s)=>{"use strict";s.d(t,{W:()=>n});var r=s(326);function i({children:e}){return e?r.jsx("p",{className:"mt-0.5 text-[11px] text-red-500",children:e}):null}function n({label:e,htmlFor:t,required:s,description:n,error:l,className:a,children:o}){return(0,r.jsxs)("div",{className:["space-y-1.5",a].filter(Boolean).join(" "),children:[(0,r.jsxs)("label",{htmlFor:t,className:"text-xs font-medium text-slate-700",children:[e," ",s&&r.jsx("span",{className:"text-red-500",children:"*"})]}),o,n&&!l&&r.jsx("p",{className:"text-[11px] text-slate-500",children:n}),r.jsx(i,{children:l})]})}},325:(e,t,s)=>{"use strict";s.d(t,{N:()=>n});var r=s(326),i=s(434);function n({title:e,subtitle:t,children:s,currentStep:n,totalSteps:l,backHref:a}){return r.jsx("main",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,r.jsxs)("div",{className:"w-full max-w-3xl px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Booking Wizard"}),r.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:e}),t&&r.jsx("p",{className:"mt-1 text-sm text-slate-600",children:t})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-xs text-slate-500",children:["Step ",n," of ",l]}),r.jsx("div",{className:"mt-1 h-1 w-32 rounded-full bg-slate-200",children:r.jsx("div",{className:"h-1 rounded-full bg-sky-500",style:{width:`${n/l*100}%`}})})]})]}),a&&r.jsx("div",{className:"mb-4",children:r.jsx(i.default,{href:a,className:"inline-flex items-center text-xs text-slate-500 hover:text-slate-700",children:"← Back"})}),r.jsx("section",{className:"rounded-2xl bg-white shadow-sm border border-slate-200 p-4 sm:p-6",children:s})]})})}},8664:(e,t,s)=>{"use strict";s.d(t,{EI:()=>d,IU:()=>a,v4:()=>o});var r=s(326),i=s(7577);let n=(0,i.createContext)(void 0),l={companyName:"",contactName:"",contactPhone:"",contactEmail:"",addressLine1:"",addressLine2:"",postalCode:"",remarks:"",saveAsFavorite:!0};function a({children:e}){let[t,s]=(0,i.useState)(null),[l,a]=(0,i.useState)(null),[o,d]=(0,i.useState)(null),[c,u]=(0,i.useState)([]),[m,x]=(0,i.useState)([]),[p,g]=(0,i.useState)(null);return r.jsx(n.Provider,{value:{serviceType:t,routeType:l,pickup:o,deliveries:c,items:m,schedule:p,setServiceType:s,setRouteType:a,setPickup:e=>{d({...e})},setDeliveries:e=>{u(e.map(e=>({...e})))},setItems:e=>{x(e.map(e=>({...e})))},setSchedule:e=>{g({...e})},resetBooking:()=>{s(null),a(null),d(null),u([]),x([]),g(null)}},children:e})}function o(){let e=(0,i.useContext)(n);if(!e)throw Error("useBooking must be used within a BookingProvider");return e}function d(){return{...l}}},8525:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>a});var r=s(8570);let i=(0,r.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/(public-pages)/booking/layout.tsx`),{__esModule:n,$$typeof:l}=i;i.default;let a=(0,r.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/(public-pages)/booking/layout.tsx#default`)},3209:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>a});var r=s(8570);let i=(0,r.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/(public-pages)/booking/steps/items/page.tsx`),{__esModule:n,$$typeof:l}=i;i.default;let a=(0,r.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/(public-pages)/booking/steps/items/page.tsx#default`)},2425:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(9510);let i={title:"Next.js",description:"Generated by Next.js"};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(9510);s(5023);let i={title:"Courier Management System",description:"Same-day and multi-stop courier booking."};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},5023:()=>{}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[819,434,554,263],()=>s(9910));module.exports=r})();