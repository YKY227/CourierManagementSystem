(()=>{var e={};e.id=775,e.ids=[775],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6750:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o}),t(7846),t(2029),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),n=t(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let o=["",{children:["admin",{children:["drivers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7846)),"/workspaces/CourierManagementSystem/src/app/admin/drivers/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/workspaces/CourierManagementSystem/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/CourierManagementSystem/src/app/admin/drivers/page.tsx"],x="/admin/drivers/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/drivers/page",pathname:"/admin/drivers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4941:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},8655:(e,s,t)=>{Promise.resolve().then(t.bind(t,7924))},2570:()=>{},7924:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var a=t(326),r=t(7577),l=t(732);let i=["central","east","west","north","north-east","island-wide"],n=["bike","car","van","lorry","other"];function d(){let[e,s]=(0,r.useState)(l.u6),[t,d]=(0,r.useState)(null),[o,c]=(0,r.useState)(null),x=e=>{d("edit"),c({...e})},m=()=>{d(null),c(null)},p=e=>{if(!o)return;let{name:s,value:t,type:a,checked:r}=e.target;c(e=>e?"isActive"===s&&"checkbox"===a?{...e,isActive:r}:"maxJobsPerDay"===s||"maxJobsPerSlot"===s||"workDayStartHour"===s||"workDayEndHour"===s?{...e,[s]:Number(t)||0}:{...e,[s]:t}:e)},u=e=>{o&&c(s=>{if(!s)return s;let t=s.secondaryRegions??[],a=t.includes(e);return{...s,secondaryRegions:a?t.filter(s=>s!==e):[...t,e]}})},h=e=>{s(s=>s.map(s=>s.id===e?{...s,isActive:!s.isActive}:s))};return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-8",children:[(0,a.jsxs)("header",{className:"mb-6 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Drivers"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Manage driver profiles, service regions, and capacity. These records will be used by the assignment engine and Driver PWA."})]}),a.jsx("button",{type:"button",onClick:()=>{d("create"),c({id:void 0,code:"",name:"",email:"",phone:"",primaryRegion:"central",secondaryRegions:[],vehicleType:"bike",isActive:!0,maxJobsPerDay:20,maxJobsPerSlot:6,workDayStartHour:8,workDayEndHour:18,notes:"",authUserId:void 0})},className:"inline-flex items-center rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-sky-700",children:"+ Add driver"})]}),(0,a.jsxs)("section",{className:"mb-6 grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[a.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Total drivers"}),a.jsx("p",{className:"mt-1 text-2xl font-semibold text-slate-900",children:e.length})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[a.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Active & assignable"}),a.jsx("p",{className:"mt-1 text-2xl font-semibold text-emerald-700",children:e.filter(e=>e.isActive).length})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[a.jsx("h2",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Main regions covered"}),a.jsx("p",{className:"mt-1 text-sm text-slate-800",children:Array.from(new Set(e.map(e=>e.primaryRegion))).map(e=>l.xw[e]).join(", ")})]})]}),a.jsx("section",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 text-sm",children:[a.jsx("thead",{className:"bg-slate-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Driver"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Regions"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Vehicle"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Capacity"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Status"}),a.jsx("th",{className:"px-4 py-2 text-right text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Actions"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-slate-50/60",children:[(0,a.jsxs)("td",{className:"px-4 py-3 align-top",children:[a.jsx("div",{className:"font-medium text-slate-900",children:e.name}),a.jsx("div",{className:"text-xs text-slate-600",children:e.email}),a.jsx("div",{className:"text-xs text-slate-500",children:e.phone}),e.code&&a.jsx("div",{className:"mt-0.5 inline-flex rounded-full bg-slate-100 px-2 py-0.5 text-[10px] font-medium text-slate-600",children:e.code})]}),(0,a.jsxs)("td",{className:"px-4 py-3 align-top text-xs text-slate-700",children:[a.jsx("div",{className:"font-medium",children:l.xw[e.primaryRegion]}),e.secondaryRegions&&e.secondaryRegions.length>0&&(0,a.jsxs)("div",{className:"mt-0.5 text-slate-500",children:["Also:"," ",e.secondaryRegions.map(e=>l.xw[e]).join(", ")]})]}),a.jsx("td",{className:"px-4 py-3 align-top text-xs text-slate-700",children:l.wQ[e.vehicleType]}),(0,a.jsxs)("td",{className:"px-4 py-3 align-top text-xs text-slate-700",children:[(0,a.jsxs)("div",{children:["Max/day:"," ",a.jsx("span",{className:"font-medium",children:e.maxJobsPerDay})]}),(0,a.jsxs)("div",{children:["Max/slot:"," ",a.jsx("span",{className:"font-medium",children:e.maxJobsPerSlot})]}),(0,a.jsxs)("div",{className:"text-slate-500",children:["Hours: ",e.workDayStartHour,":00 – ",e.workDayEndHour,":00"]})]}),a.jsx("td",{className:"px-4 py-3 align-top",children:a.jsx("span",{className:["inline-flex rounded-full px-2 py-0.5 text-[11px] font-medium",e.isActive?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-slate-100 text-slate-500 border border-slate-200"].join(" "),children:e.isActive?"Active":"Inactive"})}),(0,a.jsxs)("td",{className:"px-4 py-3 align-top text-right text-xs",children:[a.jsx("button",{type:"button",onClick:()=>x(e),className:"mr-2 text-sky-600 hover:text-sky-700",children:"Edit"}),a.jsx("button",{type:"button",onClick:()=>h(e.id),className:"text-slate-500 hover:text-slate-700",children:e.isActive?"Deactivate":"Activate"})]})]},e.id)),0===e.length&&a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-4 py-6 text-center text-xs text-slate-500",children:'No drivers yet. Click "Add driver" to create your first one.'})})]})]})})]}),t&&o&&a.jsx("div",{className:"fixed inset-0 z-40 flex justify-end bg-black/40",children:(0,a.jsxs)("div",{className:"flex h-full w-full max-w-md flex-col bg-white shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 px-4 py-3",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-sm font-semibold text-slate-900",children:"create"===t?"Add driver":"Edit driver"}),a.jsx("p",{className:"text-[11px] text-slate-500",children:"Driver settings here will directly affect auto-assignment and capacity calculation."})]}),a.jsx("button",{type:"button",onClick:m,className:"text-xs text-slate-500 hover:text-slate-800",children:"✕"})]}),(0,a.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!o)return;if(!o.name||!o.email||!o.phone){alert("Name, email, and phone are required.");return}if(!o.primaryRegion){alert("Please select a primary region.");return}let r=Date.now();if("create"===t){let t={...o,id:`drv-${r}`,code:o.code||`DRV-${e.length+1}`.padStart(7,"0")};s(e=>[...e,t])}else"edit"===t&&o.id&&s(e=>e.map(e=>e.id===o.id?o:e));m()},className:"flex-1 space-y-4 overflow-y-auto px-4 py-4 text-sm",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-slate-700",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"name",value:o.name,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"e.g. Alex Tan"})]}),(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-slate-700",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"email",type:"email",value:o.email,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"name@example.com"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-slate-700",children:["Phone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"phone",value:o.phone,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"+65 ..."})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-slate-700",children:"Internal driver code"}),a.jsx("input",{name:"code",value:o.code??"",onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"e.g. DRV-001"}),a.jsx("p",{className:"text-[10px] text-slate-500",children:"Optional – used for internal reference on the ops side."})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("label",{className:"text-xs font-medium text-slate-700",children:["Primary region ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("select",{name:"primaryRegion",value:o.primaryRegion,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",children:i.map(e=>a.jsx("option",{value:e,children:l.xw[e]},e))})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-slate-700",children:"Secondary regions"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.map(e=>a.jsx("button",{type:"button",onClick:()=>u(e),className:["rounded-full border px-2 py-0.5 text-[11px]",o.secondaryRegions?.includes(e)?"border-sky-500 bg-sky-50 text-sky-700":"border-slate-200 bg-slate-50 text-slate-600"].join(" "),children:l.xw[e]},e))})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-slate-700",children:"Vehicle type"}),a.jsx("select",{name:"vehicleType",value:o.vehicleType,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",children:n.map(e=>a.jsx("option",{value:e,children:l.wQ[e]},e))})]}),(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-slate-700",children:"Max jobs per day"}),a.jsx("input",{name:"maxJobsPerDay",type:"number",min:1,value:o.maxJobsPerDay,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-slate-700",children:"Max jobs per time slot"}),a.jsx("input",{name:"maxJobsPerSlot",type:"number",min:1,value:o.maxJobsPerSlot,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})]})]}),(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-slate-700",children:"Workday start (hour)"}),a.jsx("input",{name:"workDayStartHour",type:"number",min:0,max:23,value:o.workDayStartHour,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-slate-700",children:"Workday end (hour)"}),a.jsx("input",{name:"workDayEndHour",type:"number",min:0,max:23,value:o.workDayEndHour,onChange:p,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[a.jsx("input",{id:"isActive",name:"isActive",type:"checkbox",checked:o.isActive,onChange:p,className:"h-4 w-4 rounded border-slate-300 text-sky-600"}),a.jsx("label",{htmlFor:"isActive",className:"text-xs text-slate-700",children:"Active & eligible for auto-assignment"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-xs font-medium text-slate-700",children:"Notes (internal)"}),a.jsx("textarea",{name:"notes",value:o.notes??"",onChange:p,rows:3,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm",placeholder:"Special instructions, skills, or limitations..."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between border-t border-slate-200 pt-3",children:[a.jsx("button",{type:"button",onClick:m,className:"text-xs text-slate-600 hover:text-slate-800",children:"Cancel"}),a.jsx("button",{type:"submit",className:"inline-flex items-center rounded-lg bg-sky-600 px-4 py-2 text-xs font-medium text-white hover:bg-sky-700",children:"create"===t?"Create driver":"Save changes"})]})]})]})})]})}},732:(e,s,t)=>{"use strict";t.d(s,{u6:()=>l,wQ:()=>r,xw:()=>a});let a={central:"Central",east:"East",west:"West",north:"North","north-east":"North-East","island-wide":"Island-wide"},r={bike:"Bike",car:"Car",van:"Van",lorry:"Lorry",other:"Other"},l=[{id:"drv-1",code:"DRV-001",name:"Alex Tan",email:"alex.tan@example.com",phone:"+65 9001 0001",primaryRegion:"central",secondaryRegions:["east"],vehicleType:"van",isActive:!0,maxJobsPerDay:18,maxJobsPerSlot:6,workDayStartHour:9,workDayEndHour:18,notes:"Prefers CBD pickups, good with bulky items.",authUserId:void 0},{id:"drv-2",code:"DRV-002",name:"Siti Rahman",email:"siti.rahman@example.com",phone:"+65 9002 0002",primaryRegion:"east",secondaryRegions:["central","north-east"],vehicleType:"bike",isActive:!0,maxJobsPerDay:22,maxJobsPerSlot:7,workDayStartHour:8,workDayEndHour:17,notes:"Ideal for documents and small parcels.",authUserId:void 0},{id:"drv-3",code:"DRV-003",name:"Kumar Raj",email:"kumar.raj@example.com",phone:"+65 9003 0003",primaryRegion:"west",secondaryRegions:["central"],vehicleType:"lorry",isActive:!1,maxJobsPerDay:12,maxJobsPerSlot:4,workDayStartHour:9,workDayEndHour:18,notes:"On standby – usually assigned to oversized / palletized loads.",authUserId:void 0}]},7846:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var a=t(8570);let r=(0,a.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/admin/drivers/page.tsx`),{__esModule:l,$$typeof:i}=r;r.default;let n=(0,a.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/admin/drivers/page.tsx#default`)},2029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>r});var a=t(9510);t(5023);let r={title:"Courier Management System",description:"Same-day and multi-stop courier booking."};function l({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{children:e})})}},5023:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[819],()=>t(6750));module.exports=a})();