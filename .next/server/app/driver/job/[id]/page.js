(()=>{var e={};e.id=463,e.ids=[463],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6818:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(5095),s(6139),s(2029),s(5866);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["driver",{children:["job",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5095)),"/workspaces/CourierManagementSystem/src/app/driver/job/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6139)),"/workspaces/CourierManagementSystem/src/app/driver/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/workspaces/CourierManagementSystem/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/CourierManagementSystem/src/app/driver/job/[id]/page.tsx"],x="/driver/job/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/driver/job/[id]/page",pathname:"/driver/job/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4941:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},6208:(e,t,s)=>{Promise.resolve().then(s.bind(s,2400))},7996:(e,t,s)=>{Promise.resolve().then(s.bind(s,9658))},2570:()=>{},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})},2400:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(326),a=s(7577),l=s(5047),n=s(199);function i({params:e}){let t=(0,l.useRouter)(),{id:s}=e,{jobs:i,pendingActions:o,loaded:d,markJobStatus:c,markStopCompleted:x}=(0,n.D)(),p=(0,a.useMemo)(()=>i.find(e=>e.id===s),[i,s]);if(!d)return r.jsx("div",{className:"flex min-h-[60vh] items-center justify-center text-xs text-slate-400",children:"Loading job…"});if(!p)return(0,r.jsxs)("div",{className:"min-h-screen bg-slate-950 px-4 py-8 text-slate-50",children:[r.jsx("button",{type:"button",onClick:()=>t.push("/driver/jobs"),className:"mb-4 text-xs text-slate-400 hover:text-slate-200",children:"← Back to jobs"}),r.jsx("p",{className:"text-sm font-semibold",children:"Job not found"}),r.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"This job ID is not in the current offline dataset."})]});let m=o.some(e=>e.jobId===p.id);return(0,r.jsxs)("div",{className:"min-h-screen bg-slate-950",children:[r.jsx("header",{className:"sticky top-0 z-20 border-b border-slate-800 bg-slate-950/95 px-4 py-3 backdrop-blur",children:(0,r.jsxs)("div",{className:"mx-auto flex max-w-md items-center justify-between gap-2",children:[r.jsx("button",{type:"button",onClick:()=>t.push("/driver/jobs"),className:"text-xs text-slate-400 hover:text-slate-100",children:"← Jobs"}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"text-[11px] font-mono text-slate-400",children:p.displayId}),r.jsx("p",{className:"text-xs font-semibold text-slate-50",children:function(e){switch(e){case"booked":return"Booked";case"allocated":return"Allocated";case"pickup":return"Out for pickup";case"in-progress":return"In progress";case"completed":return"Completed";default:return e}}(p.status)}),m&&r.jsx("p",{className:"text-[10px] text-amber-300",children:"Pending sync…"})]})]})}),(0,r.jsxs)("main",{className:"mx-auto max-w-md px-4 py-4 space-y-4",children:[(0,r.jsxs)("section",{className:"rounded-xl border border-slate-800 bg-slate-900/70 p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Pickup"}),r.jsx("p",{className:"text-sm font-semibold text-slate-50",children:p.originLabel}),r.jsx("p",{className:"text-[11px] text-slate-400",children:p.areaLabel})]}),(0,r.jsxs)("div",{className:"text-right text-[11px] text-slate-300",children:[r.jsx("p",{children:p.pickupDate}),r.jsx("p",{className:"font-medium",children:p.pickupWindow}),(0,r.jsxs)("p",{className:"mt-1 text-slate-400",children:[p.totalStops," stops \xb7 ",p.totalBillableWeightKg.toFixed(1)," kg"]})]})]}),(0,r.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>c(p.id,"pickup"),className:"flex-1 rounded-lg bg-sky-600 px-3 py-2 text-xs font-medium text-white hover:bg-sky-700",children:"Mark out for pickup"}),r.jsx("button",{type:"button",className:"flex-1 rounded-lg border border-slate-600 px-3 py-2 text-xs font-medium text-slate-100 hover:border-sky-500 hover:text-sky-100",children:"Open in Maps"})]}),m&&r.jsx("p",{className:"mt-2 text-[10px] text-amber-300",children:"Changes stored locally – will sync when online & connected to server."})]}),(0,r.jsxs)("section",{className:"rounded-xl border border-slate-800 bg-slate-900/70 p-4",children:[r.jsx("h2",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Route & Stops"}),r.jsx("ol",{className:"relative border-l border-slate-700 pl-4",children:p.stops.slice().sort((e,t)=>e.sequence-t.sequence).map(e=>{let t=o.some(t=>t.jobId===p.id&&t.stopId===e.id);return(0,r.jsxs)("li",{className:"mb-5 last:mb-0",children:[r.jsx("div",{className:"absolute -left-[7px] mt-1.5 h-3.5 w-3.5 rounded-full border border-slate-500 bg-slate-900"}),(0,r.jsxs)("div",{className:"ml-2 text-[11px] text-slate-200",children:[(0,r.jsxs)("p",{className:"text-[10px] uppercase tracking-wide text-slate-400",children:[function(e){switch(e){case"pickup":return"Pickup";case"delivery":return"Delivery";case"return":return"Return"}}(e.type)," \xb7 Stop ",e.sequence]}),r.jsx("p",{className:"font-semibold text-slate-50",children:e.label}),(0,r.jsxs)("p",{className:"text-slate-400",children:[e.addressLine1," \xb7 S(",e.postalCode,")"]}),(0,r.jsxs)("p",{className:"mt-0.5 text-slate-400",children:["Contact: ",e.contactName," \xb7 ",e.contactPhone]}),e.remarks&&(0,r.jsxs)("p",{className:"mt-0.5 text-slate-500",children:["Remarks: ",e.remarks]}),(0,r.jsxs)("div",{className:"mt-1 flex flex-wrap items-center gap-2",children:[r.jsx("button",{type:"button",onClick:()=>x(p.id,e.id),className:["rounded-md border px-2 py-1 text-[10px]",e.completed?"border-emerald-400 text-emerald-300":"border-slate-600 text-slate-100 hover:border-sky-500"].join(" "),children:e.completed?"Completed":"Mark completed"}),r.jsx("button",{type:"button",className:"rounded-md border border-slate-600 px-2 py-1 text-[10px] text-slate-100 hover:border-sky-500",children:"Call / WhatsApp"}),t&&r.jsx("span",{className:"text-[10px] text-amber-300",children:"Pending sync…"})]})]})]},e.id)})}),r.jsx("p",{className:"mt-4 text-[11px] text-slate-500",children:"All changes are stored locally so you can continue even if network is unstable. When we connect this to the backend, these updates will sync to the operations system and customer tracking."})]})]})]})}},9658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(326),a=s(434),l=s(5047);let n=[{href:"/driver/jobs",label:"Jobs"},{href:"/driver/history",label:"History"},{href:"/driver/settings",label:"Settings"}];function i({children:e}){let t=(0,l.usePathname)();return r.jsx("div",{className:"min-h-screen bg-slate-950 text-slate-50",children:(0,r.jsxs)("main",{className:"mx-auto flex min-h-screen max-w-md flex-col",children:[(0,r.jsxs)("header",{className:"border-b border-slate-800 px-4 py-3",children:[r.jsx("h1",{className:"text-sm font-semibold",children:"Driver App"}),r.jsx("p",{className:"text-[11px] text-slate-400",children:"Optimised for mobile \xb7 Works offline \xb7 PWA-ready later."})]}),r.jsx("section",{className:"flex-1 overflow-y-auto",children:e}),r.jsx("nav",{className:"sticky bottom-0 border-t border-slate-800 bg-slate-950/95 px-2 py-2 backdrop-blur",children:r.jsx("div",{className:"mx-auto flex max-w-md items-center justify-around gap-2 text-[11px]",children:n.map(e=>{let s=t===e.href||"/driver/history"!==e.href&&t.startsWith(e.href);return(0,r.jsxs)(a.default,{href:e.href,className:["flex flex-1 flex-col items-center rounded-xl px-2 py-1.5 transition",s?"bg-slate-800 text-sky-300":"text-slate-400 hover:bg-slate-900 hover:text-slate-100"].join(" "),children:[r.jsx("span",{className:"font-medium",children:e.label}),"/driver/jobs"===e.href&&r.jsx("span",{className:"text-[10px] text-slate-400",children:"Today's runs"}),"/driver/history"===e.href&&r.jsx("span",{className:"text-[10px] text-slate-400",children:"Past jobs"}),"/driver/settings"===e.href&&r.jsx("span",{className:"text-[10px] text-slate-400",children:"Profile & app"})]},e.href)})})})]})})}},199:(e,t,s)=>{"use strict";s.d(t,{D:()=>l});var r=s(7577);function a(){return`PA-${Date.now()}-${Math.floor(1e4*Math.random())}`}function l(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1);return{jobs:e,pendingActions:s,loaded:n,markJobStatus:(0,r.useCallback)((e,s)=>{t(t=>t.map(t=>t.id===e?{...t,status:s}:t));let r={id:a(),type:"job-status",jobId:e,newStatus:s,createdAt:new Date().toISOString()};l(e=>[...e,r])},[]),markStopCompleted:(0,r.useCallback)((e,s)=>{t(t=>t.map(t=>t.id===e?{...t,stops:t.stops.map(e=>e.id===s?{...e,completed:!0}:e)}:t));let r={id:a(),type:"stop-completed",jobId:e,stopId:s,createdAt:new Date().toISOString()};l(e=>[...e,r])},[]),clearPendingAction:(0,r.useCallback)(e=>{l(t=>t.filter(t=>t.id!==e))},[])}}},5095:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=s(8570);let a=(0,r.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/driver/job/[id]/page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,r.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/driver/job/[id]/page.tsx#default`)},6139:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=s(8570);let a=(0,r.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/driver/layout.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,r.createProxy)(String.raw`/workspaces/CourierManagementSystem/src/app/driver/layout.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>a});var r=s(9510);s(5023);let a={title:"Courier Management System",description:"Same-day and multi-stop courier booking."};function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}},5023:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[819,434],()=>s(6818));module.exports=r})();