(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[901],{5191:function(e,t,s){Promise.resolve().then(s.bind(s,7340))},7340:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var l=s(7437),r=s(2265),a=s(9343),n=s(1014),i=s(6463),o=s(4032),d=s(4265),c=s(7256),u=s(546);let m=u.Ryn({companyName:u.Z_8().optional(),contactName:u.Z_8().min(2,"Contact name is required"),contactPhone:u.Z_8().min(8,"Phone number must have at least 8 digits").regex(/^[0-9+\-\s]+$/,"Invalid phone format"),contactEmail:u.Z_8().email("Invalid email address").optional().or(u.i0J("")),addressLine1:u.Z_8().min(3,"Address is required"),addressLine2:u.Z_8().optional(),postalCode:u.Z_8().min(6,"Postal code must be 6 digits").regex(/^\d{6}$/,"Postal code must be 6 digits"),remarks:u.Z_8().optional(),saveAsFavorite:u.O72()});function x(){var e,t,s,u,x;let p=(0,i.useRouter)(),{serviceType:h,routeType:f,pickup:v,setPickup:b}=(0,c.v4)();(0,r.useEffect)(()=>{h||p.replace("/booking/steps/delivery-type"),f||p.replace("/booking/steps/route-type")},[h,f,p]);let{register:j,handleSubmit:N,formState:{errors:g}}=(0,a.cI)({resolver:(0,n.F)(m),defaultValues:null!=v?v:(0,c.EI)()});return(0,l.jsx)(o.N,{title:"Pickup Details",subtitle:"Enter the collection location for your delivery.",currentStep:3,totalSteps:8,backHref:"/booking/steps/route-type",children:(0,l.jsxs)("form",{onSubmit:N(e=>{b({...(0,c.EI)(),...e}),p.push("/booking/steps/deliveries")}),className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsx)(d.W,{label:"Contact Name",htmlFor:"contactName",required:!0,error:null===(e=g.contactName)||void 0===e?void 0:e.message,children:(0,l.jsx)("input",{id:"contactName",...j("contactName"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})}),(0,l.jsx)(d.W,{label:"Contact Phone",htmlFor:"contactPhone",required:!0,error:null===(t=g.contactPhone)||void 0===t?void 0:t.message,children:(0,l.jsx)("input",{id:"contactPhone",...j("contactPhone"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})})]}),(0,l.jsx)(d.W,{label:"Email",htmlFor:"contactEmail",error:null===(s=g.contactEmail)||void 0===s?void 0:s.message,description:"Optional",children:(0,l.jsx)("input",{id:"contactEmail",...j("contactEmail"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})}),(0,l.jsx)(d.W,{label:"Address Line 1",htmlFor:"addressLine1",required:!0,error:null===(u=g.addressLine1)||void 0===u?void 0:u.message,children:(0,l.jsx)("input",{id:"addressLine1",...j("addressLine1"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})}),(0,l.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,l.jsx)(d.W,{label:"Address Line 2",htmlFor:"addressLine2",description:"Optional",children:(0,l.jsx)("input",{id:"addressLine2",...j("addressLine2"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})}),(0,l.jsx)(d.W,{label:"Postal Code",htmlFor:"postalCode",required:!0,error:null===(x=g.postalCode)||void 0===x?void 0:x.message,children:(0,l.jsx)("input",{id:"postalCode",...j("postalCode"),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})})]}),(0,l.jsx)(d.W,{label:"Remarks",htmlFor:"remarks",children:(0,l.jsx)("textarea",{id:"remarks",...j("remarks"),rows:2,className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm"})}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("input",{id:"saveAsFavorite",type:"checkbox",...j("saveAsFavorite")}),(0,l.jsx)("label",{htmlFor:"saveAsFavorite",className:"text-xs text-slate-700",children:"Save as favorite location"})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("button",{type:"button",onClick:()=>p.push("/booking/steps/route-type"),className:"text-xs text-slate-600 hover:text-slate-800",children:"← Back"}),(0,l.jsx)("button",{type:"submit",className:"inline-flex items-center rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-700",children:"Continue →"})]})]})})}},4265:function(e,t,s){"use strict";s.d(t,{W:function(){return a}});var l=s(7437);function r(e){let{children:t}=e;return t?(0,l.jsx)("p",{className:"mt-0.5 text-[11px] text-red-500",children:t}):null}function a(e){let{label:t,htmlFor:s,required:a,description:n,error:i,className:o,children:d}=e;return(0,l.jsxs)("div",{className:["space-y-1.5",o].filter(Boolean).join(" "),children:[(0,l.jsxs)("label",{htmlFor:s,className:"text-xs font-medium text-slate-700",children:[t," ",a&&(0,l.jsx)("span",{className:"text-red-500",children:"*"})]}),d,n&&!i&&(0,l.jsx)("p",{className:"text-[11px] text-slate-500",children:n}),(0,l.jsx)(r,{children:i})]})}},4032:function(e,t,s){"use strict";s.d(t,{N:function(){return a}});var l=s(7437),r=s(7138);function a(e){let{title:t,subtitle:s,children:a,currentStep:n,totalSteps:i,backHref:o}=e;return(0,l.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,l.jsxs)("div",{className:"w-full max-w-3xl px-4 py-8",children:[(0,l.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Booking Wizard"}),(0,l.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:t}),s&&(0,l.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:s})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-xs text-slate-500",children:["Step ",n," of ",i]}),(0,l.jsx)("div",{className:"mt-1 h-1 w-32 rounded-full bg-slate-200",children:(0,l.jsx)("div",{className:"h-1 rounded-full bg-sky-500",style:{width:"".concat(n/i*100,"%")}})})]})]}),o&&(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(r.default,{href:o,className:"inline-flex items-center text-xs text-slate-500 hover:text-slate-700",children:"← Back"})}),(0,l.jsx)("section",{className:"rounded-2xl bg-white shadow-sm border border-slate-200 p-4 sm:p-6",children:a})]})})}},7256:function(e,t,s){"use strict";s.d(t,{EI:function(){return d},IU:function(){return i},v4:function(){return o}});var l=s(7437),r=s(2265);let a=(0,r.createContext)(void 0),n={companyName:"",contactName:"",contactPhone:"",contactEmail:"",addressLine1:"",addressLine2:"",postalCode:"",remarks:"",saveAsFavorite:!0};function i(e){let{children:t}=e,[s,n]=(0,r.useState)(null),[i,o]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)([]),[x,p]=(0,r.useState)([]),[h,f]=(0,r.useState)(null);return(0,l.jsx)(a.Provider,{value:{serviceType:s,routeType:i,pickup:d,deliveries:u,items:x,schedule:h,setServiceType:n,setRouteType:o,setPickup:e=>{c({...e})},setDeliveries:e=>{m(e.map(e=>({...e})))},setItems:e=>{p(e.map(e=>({...e})))},setSchedule:e=>{f({...e})},resetBooking:()=>{n(null),o(null),c(null),m([]),p([]),f(null)}},children:t})}function o(){let e=(0,r.useContext)(a);if(!e)throw Error("useBooking must be used within a BookingProvider");return e}function d(){return{...n}}}},function(e){e.O(0,[138,445,971,23,744],function(){return e(e.s=5191)}),_N_E=e.O()}]);