(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{3062:function(e,t,s){Promise.resolve().then(s.bind(s,7339))},6463:function(e,t,s){"use strict";var n=s(1169);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},7339:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(7437),l=s(2265),r=s(6463),i=s(4032),a=s(4265),c=s(7256);let o=()=>{let e=new Date,t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(n)};function u(){let e=(0,r.useRouter)(),{serviceType:t,routeType:s,pickup:u,deliveries:d,items:x,schedule:p,setSchedule:m}=(0,c.v4)();(0,l.useEffect)(()=>t?s?u?(null==d?void 0:d.length)?(null==x?void 0:x.length)?void 0:e.replace("/booking/steps/items"):e.replace("/booking/steps/deliveries"):e.replace("/booking/steps/pickup"):e.replace("/booking/steps/route-type"):e.replace("/booking/steps/delivery-type"),[t,s,u,d,x,e]);let h="express-3h"===t?["09:00 – 12:00","10:00 – 13:00","12:00 – 15:00","14:00 – 17:00"]:["09:00 – 12:00","12:00 – 15:00","15:00 – 18:00","Anytime 09:00 – 17:30"],[f,b]=(0,l.useState)(()=>null!=p?p:{pickupDate:o(),pickupSlot:h[0]}),k="same-day"===t?"Same Day Delivery":"next-day"===t?"Next Day Delivery":"3-Hour Express";return(0,n.jsx)(i.N,{title:"Pickup Schedule",subtitle:"Choose when the courier should collect your items. (".concat(k,")"),currentStep:6,totalSteps:8,backHref:"/booking/steps/items",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,n.jsxs)(a.W,{label:"Pickup Date",required:!0,children:[(0,n.jsx)("input",{type:"date",min:o(),value:f.pickupDate,onChange:e=>b(t=>({...t,pickupDate:e.target.value})),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm  focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500"}),(0,n.jsx)("p",{className:"text-[11px] text-slate-500 mt-1",children:"Production version will disable weekends & enforce Sameday/Nextday rules."})]}),(0,n.jsxs)(a.W,{label:"Pickup Time Window",required:!0,children:[(0,n.jsx)("div",{className:"grid grid-cols-2 gap-2",children:h.map(e=>{let t=f.pickupSlot===e;return(0,n.jsx)("button",{type:"button",onClick:()=>b(t=>({...t,pickupSlot:e})),className:["rounded-lg border px-2 py-2 text-[11px] text-left transition",t?"border-sky-500 bg-sky-50 text-sky-800":"border-slate-200 bg-white text-slate-700 hover:border-sky-400 hover:bg-sky-50"].join(" "),children:e},e)})}),(0,n.jsx)("p",{className:"text-[11px] text-slate-500 mt-1",children:"Express deliveries use tighter 3-hour windows."})]})]}),(0,n.jsx)("div",{className:"rounded-xl border border-slate-200 bg-white p-4 text-[11px] text-slate-600",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{className:"font-semibold",children:"Note:"})," In the real system, slot availability is checked against driver capacity & operations load."]})}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("button",{type:"button",onClick:()=>e.push("/booking/steps/items"),className:"text-xs text-slate-600 hover:text-slate-800",children:"← Back to Items"}),(0,n.jsx)("button",{type:"button",onClick:()=>{if(!f.pickupDate||!f.pickupSlot){alert("Please select a pickup date and time slot.");return}m(f),e.push("/booking/steps/summary")},className:"inline-flex items-center rounded-lg bg-sky-600 px-4 py-2  text-sm font-medium text-white hover:bg-sky-700  focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-1",children:"Continue to Review →"})]})]})})}},4265:function(e,t,s){"use strict";s.d(t,{W:function(){return r}});var n=s(7437);function l(e){let{children:t}=e;return t?(0,n.jsx)("p",{className:"mt-0.5 text-[11px] text-red-500",children:t}):null}function r(e){let{label:t,htmlFor:s,required:r,description:i,error:a,className:c,children:o}=e;return(0,n.jsxs)("div",{className:["space-y-1.5",c].filter(Boolean).join(" "),children:[(0,n.jsxs)("label",{htmlFor:s,className:"text-xs font-medium text-slate-700",children:[t," ",r&&(0,n.jsx)("span",{className:"text-red-500",children:"*"})]}),o,i&&!a&&(0,n.jsx)("p",{className:"text-[11px] text-slate-500",children:i}),(0,n.jsx)(l,{children:a})]})}},4032:function(e,t,s){"use strict";s.d(t,{N:function(){return r}});var n=s(7437),l=s(7138);function r(e){let{title:t,subtitle:s,children:r,currentStep:i,totalSteps:a,backHref:c}=e;return(0,n.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,n.jsxs)("div",{className:"w-full max-w-3xl px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Booking Wizard"}),(0,n.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:t}),s&&(0,n.jsx)("p",{className:"mt-1 text-sm text-slate-600",children:s})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)("p",{className:"text-xs text-slate-500",children:["Step ",i," of ",a]}),(0,n.jsx)("div",{className:"mt-1 h-1 w-32 rounded-full bg-slate-200",children:(0,n.jsx)("div",{className:"h-1 rounded-full bg-sky-500",style:{width:"".concat(i/a*100,"%")}})})]})]}),c&&(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)(l.default,{href:c,className:"inline-flex items-center text-xs text-slate-500 hover:text-slate-700",children:"← Back"})}),(0,n.jsx)("section",{className:"rounded-2xl bg-white shadow-sm border border-slate-200 p-4 sm:p-6",children:r})]})})}},7256:function(e,t,s){"use strict";s.d(t,{EI:function(){return o},IU:function(){return a},v4:function(){return c}});var n=s(7437),l=s(2265);let r=(0,l.createContext)(void 0),i={companyName:"",contactName:"",contactPhone:"",contactEmail:"",addressLine1:"",addressLine2:"",postalCode:"",remarks:"",saveAsFavorite:!0};function a(e){let{children:t}=e,[s,i]=(0,l.useState)(null),[a,c]=(0,l.useState)(null),[o,u]=(0,l.useState)(null),[d,x]=(0,l.useState)([]),[p,m]=(0,l.useState)([]),[h,f]=(0,l.useState)(null);return(0,n.jsx)(r.Provider,{value:{serviceType:s,routeType:a,pickup:o,deliveries:d,items:p,schedule:h,setServiceType:i,setRouteType:c,setPickup:e=>{u({...e})},setDeliveries:e=>{x(e.map(e=>({...e})))},setItems:e=>{m(e.map(e=>({...e})))},setSchedule:e=>{f({...e})},resetBooking:()=>{i(null),c(null),u(null),x([]),m([]),f(null)}},children:t})}function c(){let e=(0,l.useContext)(r);if(!e)throw Error("useBooking must be used within a BookingProvider");return e}function o(){return{...i}}}},function(e){e.O(0,[138,971,23,744],function(){return e(e.s=3062)}),_N_E=e.O()}]);